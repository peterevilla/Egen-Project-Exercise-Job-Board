(this["webpackJsonpegen-project-exercise"]=this["webpackJsonpegen-project-exercise"]||[]).push([[0],{13:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var n=c(1),o=c(0),a=c.n(o),s=c(19),i=c.n(s),r=(c(13),c(15)),j=c(10),d=c(22),b=c.n(d),l="GET_JOBS_START",u="GET_JOBS_SUCCESS",m="GET_JOBS_ERROR",O="GET_JOBS_SUCCESS_SEARCH",p=function(e){return function(t){t({type:l}),setTimeout((function(){b.a.get("https://jobs.github.com/positions.json?page=".concat(e.page,"&description=").concat(e.description,"&location=").concat(e.location,"&search=code")).then((function(e){t({type:u,payload:e.data})})).catch((function(e){t({type:m,payload:e})}))}),1e3)}},h=function(e){var t=e.job;return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("div",{className:"img-container",children:Object(n.jsx)("img",{src:"".concat(t.company_logo)})}),Object(n.jsx)("div",{className:"job-type",children:t.type}),Object(n.jsx)("div",{className:"job-title",children:t.title}),Object(n.jsx)("div",{className:"job-location",children:t.location})]})},g=c(14),f=Object(j.b)((function(e){return{jobs:e.jobs.jobs,status:e.jobs.getJobsStatus}}),{getJobs:p})((function(e){var t=e.status,c=e.jobs,a=e.getJobs,s=Object(o.useState)(!1),i=Object(r.a)(s,2),j=i[0],d=i[1],b=Object(o.useRef)(1);function l(){var e=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement&&document.documentElement.scrollHeight||document.body.scrollHeight;e+window.innerHeight+50>=t&&d(!0)}return Object(o.useEffect)((function(){a({page:b.current,description:"",location:"",type:"true"}),b.current=b.current+1,d(!1)}),[]),Object(o.useEffect)((function(){j&&a({page:b.current,description:"",location:"",type:"true"})}),[j]),Object(o.useEffect)((function(){return window.addEventListener("scroll",l),function(){return window.removeEventListener("scroll",l)}}),[]),console.log(b.current),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"main",children:c.map((function(e){return Object(n.jsx)(g.b,{style:{textDecoration:"none"},to:"/".concat(e.id),children:Object(n.jsx)(h,{job:e},e.id)})}))}),"loading"===t&&Object(n.jsx)("p",{children:"loading jobs..."}),0===c.length&&"loading"!==t&&Object(n.jsx)("p",{children:"No jobs found"})]})})),x=c(31),y=c(29),S=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(o.useEffect)((function(){if("dark"===localStorage.getItem("Theme"))return document.body.classList.add("dark-mode")})),Object(n.jsxs)("div",{className:"nav-bar",children:[Object(n.jsx)(g.b,{style:{textDecoration:"none"},to:"/",children:Object(n.jsx)("h1",{children:"devJobs"})}),Object(n.jsx)("p",{onClick:function(){a(!c),c?(localStorage.setItem("Theme","dark"),document.body.classList.add("dark-mode")):(localStorage.setItem("Theme","light"),document.body.classList.remove("dark-mode"))},className:"dark-mode",children:c?Object(n.jsx)(y.a,{icon:x.a}):Object(n.jsx)(y.a,{icon:x.b})})]})},v=c(4),E=c(23),_=c(12),T=function(e){return function(t){t({type:"GET_JOBS_START"}),setTimeout((function(){b.a.get("https://jobs.github.com/positions.json?page=".concat(e.page,"&description=").concat(e.description,"&location=").concat(e.location,"&search=code")).then((function(e){t({type:"GET_JOBS_SUCCESS_SEARCH",payload:e.data})})).catch((function(e){t({type:"GET_JOBS_ERROR",payload:e})}))}),1e3)}},J=Object(j.b)((function(e){return{status:e.jobs.getJobsStatus}}),{getJobsSearch:T})((function(e){var t=e.getJobsSearch,c=(e.status,Object(o.useState)({page:0,description:"",location:"",type:"true"})),a=Object(r.a)(c,2),s=a[0],i=a[1],j=function(e){i(Object(_.a)(Object(_.a)({},s),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s)},children:[Object(n.jsx)("input",{type:"text",name:"description",value:s.description,placeholder:"Filter by title, companies, description...",onChange:j,className:"form"}),Object(n.jsx)("input",{type:"text",name:"location",value:s.location,placeholder:"Location",onChange:j,className:"form"}),Object(n.jsx)("button",{className:"search-btn",type:"submit",children:"Search"})]})})),N=function(e){var t=e.match.params.id,c=e.jobs.find((function(e){return e.id===t}));return Object(n.jsxs)("div",{className:"job-page",children:[Object(n.jsxs)("div",{className:"head-container",children:[Object(n.jsx)("div",{className:"image",children:Object(n.jsx)("img",{src:"".concat(c.company_logo)})}),Object(n.jsx)("div",{className:"company-name",children:c.company}),Object(n.jsx)("a",{style:{textDecoration:"none"},href:"".concat(c.company_url),className:"company-site",children:"Company site"})]}),Object(n.jsxs)("div",{className:"description-container",children:[Object(n.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(c.description)}}),Object(n.jsx)("div",{dangerouslySetInnerHTML:{__html:"".concat(c.how_to_apply)}})]})]})};var C=Object(j.b)((function(e){return{jobs:e.jobs.jobs}}),{})((function(e){var t=e.jobs;return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(S,{}),Object(n.jsx)(J,{}),Object(n.jsxs)(v.c,{children:[Object(n.jsx)(v.a,{exact:!0,path:"/",children:Object(n.jsx)(f,{})}),Object(n.jsx)(v.a,{path:"/:id",render:function(e){return Object(n.jsx)(N,{match:e.match,jobs:t})}})]})]})})),R=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(t){var c=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),o(e),a(e),s(e)}))},w=c(11),L=c(32),k="loading",B="success",G="error",H={jobs:[],getJobsStatus:"ready"},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(_.a)(Object(_.a)({},e),{},{getJobsStatus:k});case u:var c=[].concat(Object(L.a)(e.jobs),Object(L.a)(t.payload));return{jobs:c,getJobsStatus:B};case O:return{jobs:t.payload,getJobsStatus:B};case m:return Object(_.a)(Object(_.a)({},e),{},{getJobsStatus:G});default:return e}},A=Object(w.c)({jobs:I}),D=c(43),F=Object(w.e)(A,Object(w.d)(Object(w.a)(D.a)));i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(j.a,{store:F,children:Object(n.jsx)(g.a,{children:Object(n.jsx)(C,{})})})}),document.getElementById("root")),R()}},[[72,1,2]]]);
//# sourceMappingURL=main.ce52af2f.chunk.js.map